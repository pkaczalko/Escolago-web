<div class="table">
  <p-table
    selectionMode="single"
    [(selection)]="selectedBook"
    (onRowSelect)="onRowSelect($event)"
    [value]="catalogue"
    [lazy]="true"
    (onLazyLoad)="loadCatalogue($event)"
    dataKey="id"
    [tableStyle]="{ 'min-width': '75rem' }"
    [paginator]="true"
    [rows]="10"
    [totalRecords]="totalRecords"
    [loading]="loading"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>
          <p-columnFilter type="text" field="title"></p-columnFilter>
        </th>
      </tr>
      <tr>
        <th>Tytuł</th>
        <th>Isbn</th>
        <th>Autor</th>
        <th>Gatunek</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-book>
      <tr [pSelectableRow]="book">
        <td>{{ book.book_title }}</td>
        <td>{{ book.isbn }}</td>
        <td>
          {{ book.authors }}
        </td>
        <td>{{ book.genres }}</td>
      </tr>
    </ng-template>
    <ng-template pTemplate="summary">
      <div class="flex align-items-center justify-content-between">
        Łączna ilość zasobów: {{ totalRecords }}
      </div>
    </ng-template>
  </p-table>
</div>
